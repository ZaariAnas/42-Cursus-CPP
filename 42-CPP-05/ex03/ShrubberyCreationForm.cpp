/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ShrubberyCreationForm.cpp                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: azari <azari@student.42.fr>                +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/09/20 12:00:26 by azari             #+#    #+#             */
/*   Updated: 2023/09/20 16:27:42 by azari            ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ShrubberyCreationForm.hpp"

ShrubberyCreationForm::~ShrubberyCreationForm(){}
ShrubberyCreationForm::ShrubberyCreationForm(std::string target) : AForm("ShrubberyCreationForm", 145, 137), _target(target) {}
ShrubberyCreationForm::ShrubberyCreationForm(ShrubberyCreationForm& other) : AForm(other.getName(), other.getSignGrade(), other.getExecGrade()), _target(other._target){}
ShrubberyCreationForm& ShrubberyCreationForm::operator=(ShrubberyCreationForm& other){
	AForm::operator=(other);
	return *this;
}

void	ShrubberyCreationForm::execute(Bureaucrat const &executor) const {

	if (!(this->getSigState()))
		throw AForm::UnsignedFormException();
	if (executor.getGrade() > this->getExecGrade())
		throw AForm::GradeTooLowException();

	std::ofstream outfile(_target + "_Shrubbery");
	if (!outfile)
		throw AForm::OutputFileException();
	outfile << 	"          .     .  .      +     .      .          .                       .     .  .      +     .      .          . " << std::endl << \
				"     .       .      .     #       .           .            .         .       .      .     #       .           ." << std::endl << \
				"        .      .         ###            .      .      .       .         .      .         ###            .      .      ." << std::endl << \
				"      .      .    #:. .:## ##:. .:#  .      .                         .      .    #:. .:## ##:. .:#  .      ." << std::endl << \
				"          .      .  #### ### ####   .                  .     .    .       .      .  #### ### ####   ." << std::endl << \
				"       .      #:.    .:# ### #:.    .:#   .        .                   .      #:.    .:# ### #:.    .:#   .        .       ." << std::endl << \
				"  .              ######### #########         .        .    .      .              ######### #########         .        ." << std::endl << \
				"        .     #:.   #### ### ####   .:#    .       .                    .     #:.   #### ### ####   .:#    .       ." << std::endl << \
				"     .     .   #######  ## ##  #######                 .      .      .     .   #######  ## ##  #######                    . " << std::endl << \
				"                . ## ##### ##### ##            .      .        .                . ## ##### ##### ##            .      ." << std::endl << \
				"    .    #:. ...  .:## ### ### ##:.  ... .:#      .      .          .    #:. ...  .:## ### ### ##:.  ... .:#      ." << std::endl << \
				"      .      ####### ## ##### ## #######       .     .        .       .      ####### ## ##### ## #######       .     ." << std::endl << \
				"    .    .      #####  #######  #####     .      .      .      .    .    .      #####  #######  #####     .      ." << std::endl << \
				"            .            000           .     .         .     .     .        .            000           .     ." << std::endl << \
				"       .         .       000     .        .       .       .            .         .       000     .        .       ." << std::endl << \
				"          .          .   000        .       .                     .           .          000          .   .       ." << std::endl << \
				"    .            .       000          .           .       .            .             .   000     .  .        .       ." << std::endl << \
				"........................O000O...........................................................O000O..............................." << std::endl << \
				"..........................................@@@@@@@@.........................................................................." << std::endl << \
				".................................@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@...................................@@@@@@@@@@............" << std::endl << \
				"...........................@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@............" << std::endl << \
				"......@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@............." << std::endl << \
				".......@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@..............." << std::endl << \
				"......................@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@..............................." << std::endl << \
				".......................................@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@...................................................." << std::endl << \
				"............................................................................................................................." << std::endl;

}
